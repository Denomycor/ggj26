[gd_scene format=3 uid="uid://i5nvxlveiso"]

[ext_resource type="Script" uid="uid://cmu3fh4rjaxeu" path="res://assets/scripts/cop/cop.gd" id="1_qedt4"]
[ext_resource type="PackedScene" uid="uid://do0o4dnaa4hxe" path="res://assets/scenes/npcs/sprite_group.tscn" id="2_d35w0"]
[ext_resource type="Texture2D" uid="uid://yexviidhb5l" path="res://assets/images/cop/front_policeman_arms.png" id="3_as7eb"]
[ext_resource type="Texture2D" uid="uid://c315i35t1oa0e" path="res://assets/images/checkbox-unchecked.svg" id="3_piff0"]
[ext_resource type="Texture2D" uid="uid://dcqq6ts3yu558" path="res://assets/images/cop/front_policeman_legs.png" id="4_0hvg4"]
[ext_resource type="Texture2D" uid="uid://pyn7sgrvfhqf" path="res://assets/images/checkbox-checked.svg" id="4_803lo"]
[ext_resource type="Texture2D" uid="uid://c7xdrq7r4r8qj" path="res://assets/images/cop/front_policeman_chest.png" id="5_yn2ih"]
[ext_resource type="Texture2D" uid="uid://cbgvr8qu030b7" path="res://assets/images/cop/front_policeman_head.png" id="6_c3ytt"]
[ext_resource type="Texture2D" uid="uid://bfhf5cveq36yr" path="res://assets/images/cop/back_policeman_arms.png" id="7_qku8t"]
[ext_resource type="Texture2D" uid="uid://6bo0hhs0trn4" path="res://assets/images/cop/back_policeman_legs.png" id="8_ophsm"]
[ext_resource type="Texture2D" uid="uid://ctov3scew2d2" path="res://assets/images/cop/back_policeman_chest.png" id="9_yfda7"]
[ext_resource type="Texture2D" uid="uid://di0l4ocirxaxa" path="res://assets/images/cop/back_policeman_head.png" id="10_2d6x8"]
[ext_resource type="Shader" uid="uid://7xxgiml1cj0b" path="res://assets/shader/color.gdshader" id="13_0hvg4"]
[ext_resource type="Texture2D" uid="uid://bojud8p7rr0ik" path="res://assets/images/white_circle.png" id="14_yn2ih"]

[sub_resource type="CircleShape2D" id="CircleShape2D_803lo"]
radius = 59.3043

[sub_resource type="CircleShape2D" id="CircleShape2D_qedt4"]
radius = 567.00793

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c3ytt"]
shader = ExtResource("13_0hvg4")
shader_parameter/color = Color(0, 0, 0, 0.4745098)

[node name="cop" type="CharacterBody2D" unique_id=315845497]
collision_layer = 2
collision_mask = 4
script = ExtResource("1_qedt4")
cone_angle = 40.0
cone_distance = 1000.0
up_close_distance = 300.0
base_cone_angular_speed = 60.0
chase_speed_multiplier = 2.0

[node name="sprite_group" parent="." unique_id=796532361 instance=ExtResource("2_d35w0")]
z_index = 1
front_arms = ExtResource("3_as7eb")
front_legs = ExtResource("4_0hvg4")
front_torso = ExtResource("5_yn2ih")
front_mask = ExtResource("6_c3ytt")
back_arms = ExtResource("7_qku8t")
back_legs = ExtResource("8_ophsm")
back_torso = ExtResource("9_yfda7")
back_mask = ExtResource("10_2d6x8")

[node name="arms" parent="sprite_group/pivot" parent_id_path=PackedInt32Array(796532361, 100948673) index="0" unique_id=807522690]
position = Vector2(0, -94)
texture = ExtResource("3_as7eb")

[node name="legs" parent="sprite_group/pivot" parent_id_path=PackedInt32Array(796532361, 100948673) index="1" unique_id=1673661748]
texture = ExtResource("4_0hvg4")

[node name="torso" parent="sprite_group/pivot" parent_id_path=PackedInt32Array(796532361, 100948673) index="2" unique_id=874921155]
position = Vector2(-1.9073486e-06, -105)
texture = ExtResource("5_yn2ih")

[node name="mask" parent="sprite_group/pivot" parent_id_path=PackedInt32Array(796532361, 100948673) index="3" unique_id=1104511130]
position = Vector2(-3.8146973e-06, -180)
texture = ExtResource("6_c3ytt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="." unique_id=1439833039]
visible = false
shape = SubResource("CircleShape2D_803lo")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="." unique_id=1870649544]

[node name="vision_cone" type="Area2D" parent="." unique_id=1343025350]
collision_layer = 0
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="vision_cone" unique_id=210678192]
visible = false
shape = SubResource("CircleShape2D_qedt4")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="vision_cone" unique_id=1042524409]
visible = false
polygon = PackedVector2Array(0, 0, -300, 800, 300, 800)

[node name="vision_cone_poly_close" type="Polygon2D" parent="vision_cone" unique_id=2143545350]
color = Color(1, 0, 0, 0.19607843)

[node name="vision_cone_poly" type="Polygon2D" parent="vision_cone" unique_id=1577305734]
color = Color(1, 0.78431374, 0, 0.19607843)

[node name="pathTimer" type="Timer" parent="." unique_id=864310418]

[node name="chasingRaycast" type="RayCast2D" parent="." unique_id=1029449567]
enabled = false
target_position = Vector2(0, 0)

[node name="Node2D" type="Node2D" parent="." unique_id=489663388]
position = Vector2(0, -102)

[node name="investigating_sprite" type="Sprite2D" parent="Node2D" unique_id=121936223]
visible = false
position = Vector2(5.9999995, -5.9999995)
scale = Vector2(0.2, 0.2)
texture = ExtResource("3_piff0")

[node name="chasing_sprite" type="Sprite2D" parent="Node2D" unique_id=1136036272]
visible = false
position = Vector2(5.9999995, -5.9999995)
scale = Vector2(0.2, 0.2)
texture = ExtResource("4_803lo")

[node name="shadow" type="Sprite2D" parent="." unique_id=1359308708]
material = SubResource("ShaderMaterial_c3ytt")
position = Vector2(1.0000005, 6)
scale = Vector2(0.85999995, 0.5)
texture = ExtResource("14_yn2ih")

[editable path="sprite_group"]
